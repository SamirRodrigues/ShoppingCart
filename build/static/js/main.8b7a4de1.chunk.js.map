{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","cartItem","id","payload","tempCartIncrease","map","item","amount","tempCartDecrease","reduce","cartTotal","price","itemTotal","total","parseFloat","toFixed","loading","Error","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","removeItem","increaseAmount","decreaseAmount","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8b7a4de1.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'CLEAR_CART':\r\n      return { ...state, cart: [] }\r\n    case 'REMOVE_ITEM':\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter(cartItem => cartItem.id !== action.payload)\r\n      }\r\n    case 'INCREASE':\r\n      let tempCartIncrease = state.cart.map(item => {\r\n        if (item.id === action.payload) {\r\n          return { ...item, amount: item.amount + 1 }\r\n        }\r\n        return item\r\n      })\r\n      return {\r\n        ...state,\r\n        cart: tempCartIncrease\r\n      }\r\n    case 'DECREASE':\r\n      let tempCartDecrease = state.cart\r\n        .map(item => {\r\n          if (item.id === action.payload) {\r\n            return { ...item, amount: item.amount - 1 }\r\n          }\r\n          return item\r\n        })\r\n        .filter(item => item.amount !== 0)\r\n      return {\r\n        ...state,\r\n        cart: tempCartDecrease\r\n      }\r\n\r\n    case 'GET_TOTALS':\r\n      let { total, amount } = state.cart.reduce(\r\n        (cartTotal, cartItem) => {\r\n          const { price, amount } = cartItem\r\n          const itemTotal = price * amount\r\n\r\n          cartTotal.total += itemTotal\r\n          cartTotal.amount += amount\r\n          return cartTotal\r\n        },\r\n        {\r\n          total: 0,\r\n          amount: 0\r\n        }\r\n      )\r\n\r\n      total = parseFloat(total.toFixed(2))\r\n      return { ...state, total, amount }\r\n\r\n    case 'LOADING':\r\n      return { ...state, loading: true }\r\n\r\n    case 'DISPLAY_ITEMS':\r\n      return { ...state, loading: false, cart: action.payload }\r\n\r\n    default:\r\n      throw new Error('NO MATCHING ACTION TYPE')\r\n  }\r\n}\r\n\r\nexport default reducer\r\n","import React, { useState, useContext, useReducer, useEffect } from 'react'\nimport cartItems from './data'\nimport reducer from './reducer'\n\nconst url = 'https://course-api.com/react-useReducer-cart-project'\nconst AppContext = React.createContext()\n\nconst initialState = {\n  loading: false,\n  cart: cartItems,\n  total: 0,\n  amount: 0\n}\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  const clearCart = () => {\n    dispatch({ type: 'CLEAR_CART' })\n  }\n\n  const removeItem = id => {\n    dispatch({ type: 'REMOVE_ITEM', payload: id })\n  }\n\n  const increaseAmount = id => {\n    dispatch({ type: 'INCREASE', payload: id })\n  }\n\n  const decreaseAmount = id => {\n    dispatch({ type: 'DECREASE', payload: id })\n  }\n\n  const fetchData = async () => {\n    dispatch({ type: 'LOADING' })\n    const response = await fetch(url)\n    const cart = await response.json()\n\n    dispatch({ type: 'DISPLAY_ITEMS', payload: cart })\n  }\n\n  useEffect(() => {\n    fetchData()\n  }, [])\n\n  useEffect(() => {\n    dispatch({ type: 'GET_TOTALS' })\n  }, [state.cart])\n\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        clearCart,\n        removeItem,\n        increaseAmount,\n        decreaseAmount\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  )\n}\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext)\n}\n\nexport { AppContext, AppProvider }\n","export default [\n  {\n    id: 1,\n    title: 'Samsung Galaxy S7',\n    price: 599.99,\n    img: 'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1\n  },\n  {\n    id: 2,\n    title: 'google pixel ',\n    price: 499.99,\n    img: 'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1\n  },\n  {\n    id: 3,\n    title: 'Xiaomi Redmi Note 2',\n    price: 699.99,\n    img: 'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1\n  }\n]\n","import React from 'react'\nimport { useGlobalContext } from './context'\nconst Navbar = () => {\n  const { amount } = useGlobalContext()\n  return (\n    <nav>\n      <div className=\"nav-center\">\n        <h3>useReducer</h3>\n        <div className=\"nav-container\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\" />\n          </svg>\n          <div className=\"amount-container\">\n            <p className=\"total-amount\">{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar\n","import React from 'react'\nimport { useGlobalContext } from './context'\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const { removeItem, increaseAmount, decreaseAmount } = useGlobalContext()\n  return (\n    <article className=\"cart-item\">\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className=\"item-price\">${price}</h4>\n        {/* remove button */}\n        <button className=\"remove-btn\" onClick={() => removeItem(id)}>\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button className=\"amount-btn\" onClick={() => increaseAmount(id)}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\" />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className=\"amount\">{amount}</p>\n        {/* decrease amount */}\n        <button className=\"amount-btn\" onClick={() => decreaseAmount(id)}>\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n          </svg>\n        </button>\n      </div>\n    </article>\n  )\n}\n\nexport default CartItem\n","import React from 'react'\nimport CartItem from './CartItem'\nimport { useGlobalContext } from './context'\n\nconst CartContainer = () => {\n  const { cart, total, clearCart } = useGlobalContext()\n  if (cart.length === 0) {\n    return (\n      <section className=\"cart\">\n        {/* cart header */}\n        <header>\n          <h2>your bag</h2>\n          <h4 className=\"empty-cart\">is currently empty</h4>\n        </header>\n      </section>\n    )\n  }\n  return (\n    <section className=\"cart\">\n      {/* cart header */}\n      <header>\n        <h2>your bag</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map(item => {\n          return <CartItem key={item.id} {...item} />\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className=\"cart-total\">\n          <h4>\n            total <span>${total}</span>\n          </h4>\n        </div>\n        <button className=\"btn clear-btn\" onClick={clearCart}>\n          clear cart\n        </button>\n      </footer>\n    </section>\n  )\n}\n\nexport default CartContainer\n","import React from 'react'\nimport { useGlobalContext } from './context'\n\n// components\nimport Navbar from './Navbar'\nimport CartContainer from './CartContainer'\n// items\n\nfunction App() {\n  const { loading } = useGlobalContext()\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <h1>Loading...</h1>\n      </div>\n    )\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}